<!--
 * @Author: 李淳
 * @Date: 2020-07-16 17:21:14
 * @LastEditors: 李淳
 * @LastEditTime: 2020-07-22 16:27:19
 * @Description: file content
-->

# Cosmos框架自管理

> 李淳 @2020-07-22

所谓框架自管理，指的是框架的升级更新方案；

## 框架发版

框架发版是借助sofa工具完成的，这与框架初始化使用sofa工具是一脉相承的，框架首次发布至sofa，会自动生成一个带版本号的Tag，框架更新时，sofa会自增生成新的版本号，也就是cosmos的版本发布靠发布至sofa来自动维护；

使用sofa命令创建项目时，sofa会以最新发布的版本进行代码生成；

## 旧版本框架

使用v1版本框架生成项目后，此时发布了v2版本，我们需要做什么？

1. 框架尽量把代码收敛到npm包中，这样也是为便捷升级打好了基础，项目构建、编译等均独立维护，依靠npm能力进行升级；
2. 当存在bug修复的case时，框架的changeLog中会详细说明bug的影响范围及修复方案；
